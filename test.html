<!DOCTYPE html>
<html>
  <head>
    <style>
      .item {
        padding: 15px;
        border: 1px solid #ccc;
        margin: 5px;
        background-color: lightblue;
        cursor: pointer;
      }
      .output {
        margin-top: 20px;
        padding: 10px;
        border: 1px solid green;
      }
    </style>
    <body>
      <div class="item">Items 1</div>
      <div class="item">Items 2</div>
      <div>
        output:
        <p class="output"></p>
      </div>

      <script>
        const THRESHOLD = 5;
        let isDragging = false;
        let initX = null;
        let initY = null;
        let timer = null;

        document.querySelectorAll(".item").forEach((item) => {
          item.addEventListener("mousedown", (e) => {
            initX = e.pageX;
            initY = e.pageY;
          });

          item.addEventListener("mouseup", (e) => {
            offsetX = e.pageX - initX;
            offsetY = e.pageY - initY;
            if (offsetX > THRESHOLD || offsetY > THRESHOLD) {
              isDragging = true;
              handleDrag();
            } else if (timer) {
              clearTimeout(timer);
              handleDoubleClick();
              timer = null;
            } else {
              timer = setTimeout(() => {
                handleSingleClick();
                timer = null;
              }, 200);
            }
          });

          function handleDrag() {
            document.querySelector(".output").innerHTML = "dragging";
          }

          function handleSingleClick() {
            document.querySelector(".output").innerHTML = "single click";
          }

          function handleDoubleClick() {
            document.querySelector(".output").innerHTML = "double click";
          }
        }); //   //add class "dragging" for convenient css configuration
        //   list.classList.add("dragging");
        //   //get initial offset from click position
        //   offsetX = e.offsetX;
        //   offsetY = e.offsetY;
        //   list.style.position = "absolute";
        //   list.style.zIndex = 1000;
        //   document.body.appendChild(list);
        //   // moveAt(e);
        //   //use callback function
        //   document.addEventListener("mousemove", mouseMoveHandler);
        //   document.addEventListener("mouseup", mouseUpHandler);
        //   //list moving follow the cursor
        //   function moveAt(e) {
        //     list.style.left = e.pageX - offsetX + "px";
        //     list.style.top = e.pageY - offsetY + "px";
        //   }
        //   function mouseMoveHandler(moveEvent) {
        //     if (dragging) {
        //       moveAt(moveEvent);
        //     }
        //   }
        //   function mouseUpHandler(upEvent) {
      
        // }

      </script>
    </body>
  </head>
</html>
